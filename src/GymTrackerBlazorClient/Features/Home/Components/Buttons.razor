@using GymTracker.BlazorClient.Features.Home.Store
@using GymTracker.BlazorClient.Features.Workout.Perform.Store

@inherits FluxorComponent

@inject NavigationManager NavigationManager
@inject IState<HomeState> State
@inject IDispatcher Dispatcher

@if (State.Value.HasExistingWorkout)
{
    <MudButton Class="homeButton" Variant="Variant.Outlined"
               Color="Color.Default"
               OnClick="HandleContinueWorkout">
        <MudText Typo="Typo.h6">Continue Workout</MudText>
    </MudButton>
}

<MudButton Class="homeButton" Variant="Variant.Outlined"
           Color="Color.Default"
           OnClick="HandleStartWorkout">
    <MudText Typo="Typo.h6">New Workout</MudText>
</MudButton>

<MudButton Class="homeButton"
           Variant="Variant.Outlined"
           Color="Color.Default"
           OnClick="HandleManageExercises">
    <MudText Typo="Typo.h6">Manage Exercises</MudText>
</MudButton>

<MudButton Class="homeButton"
           Variant="Variant.Outlined"
           Color="Color.Default"
           OnClick="HandleManageWorkoutPlans">
    <MudText Typo="Typo.h6">Workout Plans</MudText>
</MudButton>

<MudButton Class="homeButton"
           Variant="Variant.Outlined"
           Color="Color.Default"
           OnClick="HandleManageSettings">
    <MudText Typo="Typo.h6">Settings</MudText>
</MudButton>

@code {
    void HandleManageExercises() => NavigationManager.NavigateTo("exercises");
    void HandleManageWorkoutPlans() => NavigationManager.NavigateTo("workout-plans");
    void HandleManageSettings() => NavigationManager.NavigateTo("settings");
    void HandleStartWorkout() => NavigationManager.NavigateTo("workout/new");
    void HandleContinueWorkout() => Dispatcher.Dispatch(new ContinueWorkoutAction());
}
